(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6413],{14978:function(e,o,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/authentication/GoogleAuth",function(){return n(3317)}])},27082:function(e,o,n){"use strict";n.d(o,{Ap:function(){return a},I8:function(){return i},Os:function(){return l}});var s=n(83977),t=n(91259);let r=(0,s.ZF)({apiKey:"AIzaSyDm9R-hwprOQ99HlMVZM-zX5lvl0Tw5AWM",authDomain:"mango-79490.firebaseapp.com",projectId:"mango-79490",storageBucket:"mango-79490.appspot.com",messagingSenderId:"730931845864",appId:"1:730931845864:web:a3a1f8f67f47064f81c75d",measurementId:"G-F78WEFQWVL"}),i=(0,t.v0)(r),a=new t.hJ,l=new t._O;new t.O4("apple.com")},3317:function(e,o,n){"use strict";n.r(o);var s=n(85893),t=n(5121),r=n(27082),i=n(91259),a=n(67294),l=n(55678);n(71399);var c=n(79779),u=n(52091);let d=e=>{let{type:o,handleOpen:n}=e,{url:d,setAuth:p}=(0,a.useContext)(c.f),g=async()=>{var e,s,a,c,u;if("signup"===o)try{let o=await (0,i.rh)(r.I8,r.Ap),a=o.user;console.log("Google sign-in successful:",a);try{let{data:e}=await t.Z.post("".concat(d,"/register"),{fullName:null==a?void 0:a.displayName,password:null==a?void 0:a.uid,email:null==a?void 0:a.email},{withCredentials:!0,headers:{"Content-Type":"application/json"}});p(e),n()}catch(o){console.log(o),l.Am.error(null===(e=o.response)||void 0===e?void 0:null===(s=e.data)||void 0===s?void 0:s.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:l.sm})}}catch(e){console.error("Google sign-in error:",e)}else try{let e=await (0,i.rh)(r.I8,r.Ap),o=e.user;console.log("Google sign-in successful:",o);try{let{data:e}=await t.Z.post("".concat(d,"/login"),{password:null==o?void 0:o.uid,email:null==o?void 0:o.email},{withCredentials:!0,headers:{"Content-Type":"application/json"}});p(e),n()}catch(e){console.log(e),(null===(a=e.response.data)||void 0===a?void 0:a.message)==="Invalid Email or Password"&&l.Am.error("use the sign up",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:l.sm})}}catch(e){console.error("Google sign-in error:",e),l.Am.error(null===(c=e.response)||void 0===c?void 0:null===(u=c.data)||void 0===u?void 0:u.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:l.sm})}};return(0,s.jsxs)("button",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},className:"border rounded py-2 flex items-center justify-center gap-4",onClick:g,children:[(0,s.jsx)(u.ldW,{className:"text-primary text-xl"}),"Google"]})};o.default=d}},function(e){e.O(0,[3365,6956,4380,9774,2888,179],function(){return e(e.s=14978)}),_N_E=e.O()}]);